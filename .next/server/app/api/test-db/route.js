(()=>{var e={};e.id=681,e.ids=[681],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},94747:(e,s,r)=>{"use strict";r.d(s,{z:()=>o});let t=require("@prisma/client"),o=global.prisma||new t.PrismaClient},96464:(e,s,r)=>{"use strict";r.r(s),r.d(s,{patchFetch:()=>x,routeModule:()=>d,serverHooks:()=>m,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>l});var t={};r.r(t),r.d(t,{GET:()=>u});var o=r(96559),a=r(48088),n=r(37719),i=r(32190),c=r(94747);async function u(){try{console.log("\uD83D\uDD0D Testando conex\xe3o com banco...");let e=await c.z.usuario.findMany({select:{id:!0,email:!0,nome:!0,criadoEm:!0},take:5});if(console.log(`✅ Conex\xe3o bem-sucedida! Encontrados ${e.length} usu\xe1rios.`),0===e.length){console.log("\uD83D\uDCDD Criando usu\xe1rio de teste...");let e=await c.z.usuario.create({data:{nome:"Usu\xe1rio Teste",email:"teste@exemplo.com",senha:"$2a$10$example.hash.for.testing.purposes.only"}});return console.log("✅ Usu\xe1rio de teste criado:",e.email),i.NextResponse.json({success:!0,message:"Conex\xe3o estabelecida e usu\xe1rio de teste criado!",usuarios:[e],databaseUrl:process.env.DATABASE_URL?.substring(0,50)+"..."})}return i.NextResponse.json({success:!0,message:"Conex\xe3o com banco estabelecida com sucesso!",usuarios:e,databaseUrl:process.env.DATABASE_URL?.substring(0,50)+"..."})}catch(s){console.error("❌ Erro ao conectar com banco:",s);let e={message:s instanceof Error?s.message:"Erro desconhecido",name:s instanceof Error?s.name:"Unknown",stack:s instanceof Error?s.stack:void 0};return s&&"object"==typeof s&&"code"in s&&(e={...e,code:s.code,clientVersion:s.clientVersion,meta:s.meta}),i.NextResponse.json({success:!1,error:e,databaseUrl:process.env.DATABASE_URL?.substring(0,50)+"..."},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/test-db/route",pathname:"/api/test-db",filename:"route",bundlePath:"app/api/test-db/route"},resolvedPagePath:"C:\\Users\\Alan Ara\xfajo\\Documents\\Meu bolso\\src\\app\\api\\test-db\\route.ts",nextConfigOutput:"",userland:t}),{workAsyncStorage:p,workUnitAsyncStorage:l,serverHooks:m}=d;function x(){return(0,n.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:l})}},96487:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[243,580],()=>r(96464));module.exports=t})();